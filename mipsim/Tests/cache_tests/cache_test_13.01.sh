../../mipsim ${MIPSIM_FLAGS} -ds 64 -db 8 -da 1 -dwt > output.txt <<'EOF'

m 80000000 = 83000000
m 80000004 = 83000004
m 80000008 = 83000008
m 8000000c = 8300000c

m 0000 = ac220000  # sw $2, 0000($1)
m 0004 = 8c220000  # lw $2, 0000($1)

pd 80000000
pd 80000008
m 80000000
m 80000004
m 80000008
m 8000000c

# Read from address in set 0.

$1 = 80000000
pc = 0004
.
$2
pd 80000000
pd 80000008
m 80000000
m 80000004
m 80000008
m 8000000c

# Write to address in set 0, expect hit/write-through.

$1 = 80000000
$2 = 87000000
pc = 0000
.
pd 80000000
pd 80000008
m 80000000
m 80000004
m 80000008
m 8000000c

$1 = 80000004
$2 = 87000004
pc = 0000
.
pd 80000000
pd 80000008
m 80000000
m 80000004
m 80000008
m 8000000c

# Write to addresses in set 1, expect miss/write-around.

$1 = 80000008
$2 = 8F000008
pc = 0000
.
pd 80000000
pd 80000008
m 80000000
m 80000004
m 80000008
m 8000000c

$1 = 8000000c
$2 = 8F00000c
pc = 0000
.
pd 80000000
pd 80000008
m 80000000
m 80000004
m 80000008
m 8000000c


EOF
